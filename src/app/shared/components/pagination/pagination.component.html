<div class="bg-gray-50 px-6 py-3 border-t border-gray-200">
  <div class="flex items-center justify-between">
    <!-- Resultados por página -->
    <div class="flex items-center gap-2" *ngIf="showLimitSelector">
      <label class="text-sm text-gray-700">Mostrar:</label>
      <select 
        [value]="limit" 
        (change)="onLimitChangeInternal($event)"
        class="border border-gray-300 rounded-lg px-3 py-1.5 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent">
        <option *ngFor="let option of limitOptions" [value]="option">{{ option }}</option>
      </select>
      <span class="text-sm text-gray-700">por página</span>
    </div>

    <!-- Controles de paginación -->
    <div class="flex items-center gap-2">
      <!-- Botón anterior -->
      <button
        (click)="goToPreviousPage()"
        [disabled]="page === 1"
        [class]="page === 1 
          ? 'px-3 py-1.5 text-sm border border-gray-300 rounded-lg bg-gray-100 text-gray-400 cursor-not-allowed'
          : 'px-3 py-1.5 text-sm border border-gray-300 rounded-lg bg-white text-gray-700 hover:bg-gray-50'"
        type="button">
        Anterior
      </button>

      <!-- Números de página -->
      <div class="flex gap-1">
        <ng-container *ngFor="let p of visiblePages">
          <!-- Ellipsis -->
          <span *ngIf="p === '...'" class="px-3 py-1.5 text-sm text-gray-500">
            {{ p }}
          </span>
          <!-- Page button -->
          <button
            *ngIf="p !== '...'"
            (click)="onPageClick($any(p))"
            [disabled]="p == page"
            [ngClass]="{
              'px-3 py-1.5 text-sm border rounded-lg': true,
              'border-blue-500 bg-blue-500 text-white cursor-not-allowed': p == page,
              'border-gray-300 bg-white text-gray-700 hover:bg-gray-50 cursor-pointer': p != page
            }"
            type="button">
            {{ p }}
          </button>
        </ng-container>
      </div>

      <!-- Botón siguiente -->
      <button
        (click)="goToNextPage()"
        [disabled]="page === totalPages"
        [class]="page === totalPages 
          ? 'px-3 py-1.5 text-sm border border-gray-300 rounded-lg bg-gray-100 text-gray-400 cursor-not-allowed'
          : 'px-3 py-1.5 text-sm border border-gray-300 rounded-lg bg-white text-gray-700 hover:bg-gray-50'"
        type="button">
        Siguiente
      </button>
    </div>
  </div>
</div>
