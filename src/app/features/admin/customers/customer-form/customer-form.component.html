<form [formGroup]="customerForm" (ngSubmit)="onSubmit()" class="space-y-4">
  <div class="grid grid-cols-2 gap-4">
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">RUT *</label>
      <input
        type="text"
        formControlName="rut"
        appRutFormat
        placeholder="12345678-9"
        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        [class.border-red-500]="customerForm.get('rut')?.invalid && customerForm.get('rut')?.touched"
      />
      <p class="text-red-500 text-xs mt-1">{{ getErrorMessage('rut') }}</p>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Razón Social *</label>
      <input
        type="text"
        formControlName="businessName"
        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        [class.border-red-500]="customerForm.get('businessName')?.invalid && customerForm.get('businessName')?.touched"
      />
      <p class="text-red-500 text-xs mt-1">{{ getErrorMessage('businessName') }}</p>
    </div>
  </div>

  <div class="grid grid-cols-2 gap-4">
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Nombre de Contacto *</label>
      <input
        type="text"
        formControlName="contactName"
        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        [class.border-red-500]="customerForm.get('contactName')?.invalid && customerForm.get('contactName')?.touched"
      />
      <p class="text-red-500 text-xs mt-1">{{ getErrorMessage('contactName') }}</p>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Email *</label>
      <input
        type="email"
        formControlName="email"
        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        [class.border-red-500]="customerForm.get('email')?.invalid && customerForm.get('email')?.touched"
      />
      <p class="text-red-500 text-xs mt-1">{{ getErrorMessage('email') }}</p>
    </div>
  </div>

  <div class="grid grid-cols-2 gap-4">
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Teléfono *</label>
      <input
        type="text"
        formControlName="phone"
        placeholder="+56 9 1234 5678"
        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        [class.border-red-500]="customerForm.get('phone')?.invalid && customerForm.get('phone')?.touched"
      />
      <p class="text-red-500 text-xs mt-1">{{ getErrorMessage('phone') }}</p>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Estado *</label>
      <select
        formControlName="status"
        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
      >
        <option value="ACTIVE">Activo</option>
        <option value="INACTIVE">Inactivo</option>
      </select>
    </div>
  </div>

  <div>
    <label class="block text-sm font-medium text-gray-700 mb-1">Dirección *</label>
    <input
      type="text"
      formControlName="address"
      class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
      [class.border-red-500]="customerForm.get('address')?.invalid && customerForm.get('address')?.touched"
    />
    <p class="text-red-500 text-xs mt-1">{{ getErrorMessage('address') }}</p>
  </div>

  <div class="grid grid-cols-2 gap-4">
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Ciudad *</label>
      <input
        type="text"
        formControlName="city"
        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        [class.border-red-500]="customerForm.get('city')?.invalid && customerForm.get('city')?.touched"
      />
      <p class="text-red-500 text-xs mt-1">{{ getErrorMessage('city') }}</p>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Región *</label>
      <select
        formControlName="region"
        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        [class.border-red-500]="customerForm.get('region')?.invalid && customerForm.get('region')?.touched"
      >
        <option value="">Seleccionar región</option>
        <option value="Metropolitana">Metropolitana</option>
        <option value="Valparaíso">Valparaíso</option>
        <option value="Biobío">Biobío</option>
        <option value="Araucanía">Araucanía</option>
        <option value="Los Lagos">Los Lagos</option>
        <option value="Maule">Maule</option>
        <option value="O'Higgins">O'Higgins</option>
        <option value="Coquimbo">Coquimbo</option>
        <option value="Antofagasta">Antofagasta</option>
        <option value="Atacama">Atacama</option>
        <option value="Tarapacá">Tarapacá</option>
        <option value="Arica y Parinacota">Arica y Parinacota</option>
        <option value="Los Ríos">Los Ríos</option>
        <option value="Aysén">Aysén</option>
        <option value="Magallanes">Magallanes</option>
        <option value="Ñuble">Ñuble</option>
      </select>
      <p class="text-red-500 text-xs mt-1">{{ getErrorMessage('region') }}</p>
    </div>
  </div>

  <div class="flex justify-end gap-3 pt-4">
    <button
      type="button"
      (click)="onCancel()"
      class="px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors"
    >
      Cancelar
    </button>
    <button
      type="submit"
      [disabled]="customerForm.invalid"
      class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed"
    >
      {{ customer ? 'Actualizar' : 'Crear' }} Cliente
    </button>
  </div>
</form>
